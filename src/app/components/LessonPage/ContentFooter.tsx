import { cn } from '~/helpers';
import BrokenHeart from './assets/BrokenHeart.png';
import FireAction from './assets/FireAction.png';

import Image from 'next/image';
import { useEffect, useState } from 'react';
import DropDownAction from '../shared/DropDownAction';
import { usePathname } from 'next/navigation';

const ShareIcon = () => {
  return (
    <svg
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="h-5 w-5"
    >
      <path
        d="M12.5 3V7C4.5 7 2.5 11.1 2.5 17C3.54 13.04 6.5 11 10.5 11H12.5V15L18.5 8.68L12.5 3Z"
        fill="#195AF4"
        className="group-hover:fill-[#195AF4]/50"
      />
    </svg>
  );
};

const Separator = () => {
  return <div className="bg-secondary/20 h-8 w-px" />;
};

const StarIcon = ({ className }: { className: string }) => {
  return (
    <svg
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={cn('h-5 w-5', className)}
    >
      <path
        d="M9.21364 2.66104C9.71061 2.42549 10.287 2.42549 10.784 2.66104C11.128 2.82422 11.3724 3.13325 11.5886 3.48233C11.8061 3.83344 12.0454 4.31089 12.3425 4.90518L12.3543 4.92862L12.5935 5.40811C12.7972 5.81555 12.857 5.92204 12.9314 5.99991C13.0081 6.08019 13.1001 6.14415 13.2019 6.18838C13.3007 6.23126 13.4212 6.2504 13.8738 6.30069L14.0916 6.3251L14.1179 6.32803C14.8318 6.40734 15.402 6.47068 15.8338 6.5585C16.2596 6.64512 16.6565 6.77312 16.9343 7.05655C17.3318 7.46209 17.5191 8.02922 17.4412 8.5917C17.3867 8.98474 17.1438 9.3243 16.8533 9.64737C16.5587 9.97495 16.1383 10.3657 15.6121 10.8544L15.5925 10.872L15.3631 11.0849C14.9643 11.4551 14.8617 11.5603 14.8045 11.6718C14.7454 11.7868 14.714 11.9145 14.7127 12.0439C14.7114 12.1689 14.7539 12.3122 14.9363 12.8319L14.9451 12.8564C15.2146 13.6243 15.4284 14.2328 15.5496 14.706C15.6672 15.1655 15.7331 15.6169 15.5798 16.0077C15.3639 16.5577 14.8958 16.9701 14.323 17.1151C13.9171 17.2179 13.481 17.0982 13.0437 16.9257C12.5949 16.7486 12.0267 16.4645 11.3103 16.1064L11.2869 16.0946L10.7293 15.8163C10.3535 15.6284 10.2506 15.5819 10.1521 15.5634C10.0508 15.5444 9.94681 15.5444 9.84547 15.5634C9.74698 15.5819 9.64407 15.6284 9.26833 15.8163L8.71071 16.0946L8.68727 16.1064C7.97091 16.4645 7.40267 16.7486 6.95387 16.9257C6.5166 17.0982 6.08052 17.2179 5.67458 17.1151C5.10181 16.9701 4.63367 16.5577 4.41774 16.0077C4.26451 15.617 4.33035 15.1655 4.44801 14.706C4.56919 14.2328 4.78304 13.6243 5.05251 12.8564L5.06129 12.8319C5.24367 12.3122 5.28615 12.1689 5.28493 12.0439C5.28357 11.9145 5.25215 11.7868 5.19313 11.6718C5.13585 11.5603 5.03329 11.4551 4.63454 11.0849L4.40504 10.872L4.38551 10.8544C3.85924 10.3657 3.43893 9.97496 3.1443 9.64737C2.85377 9.32429 2.61093 8.98474 2.55641 8.5917C2.47849 8.02922 2.66576 7.46209 3.06325 7.05655C3.34106 6.77312 3.73799 6.64512 4.16383 6.5585C4.59558 6.47068 5.16582 6.40734 5.87965 6.32803L5.90602 6.3251L6.12379 6.30069C6.57639 6.2504 6.69691 6.23126 6.79567 6.18838C6.89753 6.14415 6.98946 6.08019 7.06618 5.99991C7.14057 5.92204 7.20035 5.81555 7.40407 5.40811L7.64333 4.92862L7.65505 4.90518C7.95218 4.31089 8.19145 3.83344 8.40895 3.48233C8.62523 3.13325 8.86957 2.82422 9.21364 2.66104ZM10.3562 3.56436C10.1302 3.45717 9.86738 3.45717 9.64137 3.56436C9.57003 3.59825 9.45303 3.69573 9.25856 4.00967C9.06802 4.31732 8.84926 4.75309 8.53786 5.37588L8.2986 5.85537C8.28904 5.87449 8.27959 5.89336 8.27028 5.91202C8.10874 6.23568 7.98173 6.49043 7.78981 6.69131C7.621 6.86798 7.41825 7.00904 7.19411 7.10635C6.93928 7.21697 6.65618 7.24831 6.29665 7.28799C6.27607 7.29026 6.25523 7.29248 6.23415 7.29483L6.01637 7.31924C5.27044 7.40212 4.74523 7.46026 4.36305 7.53799C3.96968 7.61801 3.83195 7.70079 3.77712 7.75674C3.59666 7.94099 3.51134 8.19853 3.54665 8.45401C3.5574 8.5316 3.6191 8.67998 3.88747 8.97842C4.14825 9.26842 4.53572 9.62787 5.08571 10.1386L5.3152 10.3524C5.334 10.3699 5.35252 10.3872 5.37087 10.4042C5.68631 10.6966 5.93462 10.9263 6.08278 11.2147C6.21281 11.468 6.28194 11.7484 6.28493 12.0331C6.28746 12.2763 6.2242 12.518 6.13161 12.7968L6.00465 13.163C5.72466 13.961 5.52583 14.5281 5.41676 14.954C5.30295 15.3985 5.32177 15.5722 5.34938 15.6425C5.44751 15.8924 5.65944 16.0804 5.91969 16.1464C5.99406 16.1652 6.16735 16.1614 6.58669 15.996C6.98949 15.8371 7.51819 15.5727 8.26344 15.2001L8.82106 14.9218C8.83868 14.913 8.85661 14.904 8.8738 14.8954C9.17229 14.7459 9.40718 14.6286 9.6609 14.581C9.88427 14.5391 10.1133 14.5391 10.3367 14.581C10.5904 14.6286 10.8253 14.7459 11.1238 14.8954C11.141 14.904 11.1589 14.913 11.1765 14.9218L11.7341 15.2001C12.4794 15.5727 13.0081 15.8371 13.4109 15.996C13.8302 16.1614 14.0035 16.1652 14.0779 16.1464C14.3382 16.0804 14.5501 15.8924 14.6482 15.6425C14.6758 15.5722 14.6946 15.3985 14.5808 14.954C14.4718 14.5281 14.2729 13.961 13.9929 13.163L13.866 12.7968C13.7734 12.518 13.7101 12.2763 13.7127 12.0331C13.7157 11.7484 13.7848 11.468 13.9148 11.2147C14.063 10.9263 14.3113 10.6966 14.6267 10.4042C14.6451 10.3872 14.6636 10.3699 14.6824 10.3524L14.9119 10.1386C15.4619 9.62787 15.8493 9.26842 16.1101 8.97842C16.3785 8.67998 16.4402 8.5316 16.4509 8.45401C16.4862 8.19853 16.4009 7.94099 16.2205 7.75674C16.1656 7.70079 16.0279 7.61801 15.6345 7.53799C15.2524 7.46026 14.7271 7.40212 13.9812 7.31924L13.7634 7.29483C13.7424 7.29248 13.7215 7.29026 13.7009 7.28799C13.3414 7.24831 13.0583 7.21697 12.8035 7.10635C12.5793 7.00904 12.3766 6.86798 12.2078 6.69131C12.0159 6.49043 11.8888 6.23568 11.7273 5.91202C11.718 5.89336 11.7085 5.87449 11.699 5.85537L11.4597 5.37588C11.1483 4.75309 10.9296 4.31732 10.739 4.00967C10.5446 3.69572 10.4276 3.59825 10.3562 3.56436Z"
        fill="#FEF360"
        fill-opacity="0.5"
        className="group-hover:fill-[#FEF360]/50"
      />
    </svg>
  );
};

const StarIconFilled = ({ className }: { className: string }) => {
  return (
    <svg
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={cn('h-5 w-5', className)}
    >
      <path
        d="M9.21364 2.66104C9.71061 2.42549 10.287 2.42549 10.784 2.66104C11.128 2.82422 11.3724 3.13325 11.5886 3.48233C11.8061 3.83344 12.0454 4.31089 12.3425 4.90518L12.3543 4.92862L12.5935 5.40811C12.7972 5.81555 12.857 5.92204 12.9314 5.99991C13.0081 6.08019 13.1001 6.14415 13.2019 6.18838C13.3007 6.23126 13.4212 6.2504 13.8738 6.30069L14.0916 6.3251L14.1179 6.32803C14.8318 6.40734 15.402 6.47068 15.8338 6.5585C16.2596 6.64512 16.6565 6.77312 16.9343 7.05655C17.3318 7.46209 17.5191 8.02922 17.4412 8.5917C17.3867 8.98474 17.1438 9.3243 16.8533 9.64737C16.5587 9.97495 16.1383 10.3657 15.6121 10.8544L15.5925 10.872L15.3631 11.0849C14.9643 11.4551 14.8617 11.5603 14.8045 11.6718C14.7454 11.7868 14.714 11.9145 14.7127 12.0439C14.7114 12.1689 14.7539 12.3122 14.9363 12.8319L14.9451 12.8564C15.2146 13.6243 15.4284 14.2328 15.5496 14.706C15.6672 15.1655 15.7331 15.6169 15.5798 16.0077C15.3639 16.5577 14.8958 16.9701 14.323 17.1151C13.9171 17.2179 13.481 17.0982 13.0437 16.9257C12.5949 16.7486 12.0267 16.4645 11.3103 16.1064L11.2869 16.0946L10.7293 15.8163C10.3535 15.6284 10.2506 15.5819 10.1521 15.5634C10.0508 15.5444 9.94681 15.5444 9.84547 15.5634C9.74698 15.5819 9.64407 15.6284 9.26833 15.8163L8.71071 16.0946L8.68727 16.1064C7.97091 16.4645 7.40267 16.7486 6.95387 16.9257C6.5166 17.0982 6.08052 17.2179 5.67458 17.1151C5.10181 16.9701 4.63367 16.5577 4.41774 16.0077C4.26451 15.617 4.33035 15.1655 4.44801 14.706C4.56919 14.2328 4.78304 13.6243 5.05251 12.8564L5.06129 12.8319C5.24367 12.3122 5.28615 12.1689 5.28493 12.0439C5.28357 11.9145 5.25215 11.7868 5.19313 11.6718C5.13585 11.5603 5.03329 11.4551 4.63454 11.0849L4.40504 10.872L4.38551 10.8544C3.85924 10.3657 3.43893 9.97496 3.1443 9.64737C2.85377 9.32429 2.61093 8.98474 2.55641 8.5917C2.47849 8.02922 2.66576 7.46209 3.06325 7.05655C3.34106 6.77312 3.73799 6.64512 4.16383 6.5585C4.59558 6.47068 5.16582 6.40734 5.87965 6.32803L5.90602 6.3251L6.12379 6.30069C6.57639 6.2504 6.69691 6.23126 6.79567 6.18838C6.89753 6.14415 6.98946 6.08019 7.06618 5.99991C7.14057 5.92204 7.20035 5.81555 7.40407 5.40811L7.64333 4.92862L7.65505 4.90518C7.95218 4.31089 8.19145 3.83344 8.40895 3.48233C8.62523 3.13325 8.86957 2.82422 9.21364 2.66104Z"
        fill="#FEF360"
      />
    </svg>
  );
};

const Button = ({ children }: { children: React.ReactNode }) => (
  <button className="border-accent hover:bg-foreground hover:text-background group flex h-11 cursor-pointer items-center gap-2 rounded-[100px] border px-6">
    {children}
  </button>
);

const VkIcon = () => {
  return (
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="16" height="16" rx="8" fill="#0077FF" />
      <path
        d="M8.39457 10.7992C5.38795 10.7992 3.67302 8.69712 3.60156 5.19922H5.10762C5.15709 7.76659 6.2674 8.85407 7.14685 9.0783V5.19922H8.56496V7.41343C9.43342 7.31814 10.3458 6.30913 10.6537 5.19922H12.0718C11.9558 5.77485 11.7246 6.31988 11.3926 6.80022C11.0606 7.28056 10.6351 7.68587 10.1425 7.99081C10.6923 8.26944 11.178 8.66382 11.5674 9.14792C11.9568 9.63202 12.2411 10.1948 12.4016 10.7992H10.8405C10.6965 10.2743 10.4037 9.80434 9.99892 9.44835C9.59412 9.09236 9.09529 8.86613 8.56496 8.79802V10.7992H8.39457Z"
        fill="white"
      />
    </svg>
  );
};

const FacebookIcon = () => {
  return (
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="16" height="16" rx="8" fill="#0B84EE" />
      <path
        d="M8.66439 8.14514H10.1533L10.387 6.62344H8.66409V5.79176C8.66409 5.15962 8.86939 4.59907 9.45713 4.59907H10.4016V3.27112C10.2356 3.24857 9.88468 3.19922 9.22155 3.19922C7.83684 3.19922 7.02503 3.93494 7.02503 5.6111V6.62344H5.60156V8.14514H7.02503V12.3276C7.30694 12.3703 7.59248 12.3992 7.88559 12.3992C8.15054 12.3992 8.40913 12.3748 8.66439 12.3401V8.14514Z"
        fill="white"
      />
    </svg>
  );
};

const TwitterIcon = () => {
  return (
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clip-path="url(#clip0_3557_48836)">
        <rect width="16" height="16" rx="8" fill="#01050D" />
        <path
          d="M8.59552 7.38246L11.2307 4.38281H10.6065L8.31738 6.98683L6.49047 4.38281H4.38281L7.14607 8.32092L4.38281 11.4661H5.00704L7.4228 8.7156L9.35257 11.4661H11.4602M5.23234 4.84379H6.19133L10.606 11.0278H9.64676"
          fill="white"
        />
      </g>
      <defs>
        <clipPath id="clip0_3557_48836">
          <rect width="16" height="16" rx="8" fill="white" />
        </clipPath>
      </defs>
    </svg>
  );
};

const TelegramIcon = () => {
  return (
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="16" height="16" rx="8" fill="#1EA1DD" />
      <path
        d="M11.2016 5.04167L9.99939 11.3177C9.99939 11.3177 9.83119 11.7528 9.36912 11.5441L6.59539 9.34181L6.58253 9.33532C6.9572 8.98694 9.86252 6.28185 9.9895 6.15923C10.1861 5.96933 10.064 5.85627 9.83581 5.99972L5.54428 8.82197L3.88862 8.24509C3.88862 8.24509 3.62807 8.14911 3.603 7.94042C3.5776 7.73139 3.89719 7.61834 3.89719 7.61834L10.6468 4.87636C10.6468 4.87636 11.2016 4.62395 11.2016 5.04167Z"
        fill="#FEFEFE"
      />
    </svg>
  );
};

const CopyIcon = () => {
  return (
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clip-path="url(#clip0_3557_48848)">
        <path
          d="M10.4 8.53766V11.0577C10.4 13.1577 9.56 13.9977 7.46 13.9977H4.94C2.84 13.9977 2 13.1577 2 11.0577V8.53766C2 6.43766 2.84 5.59766 4.94 5.59766H7.46C9.56 5.59766 10.4 6.43766 10.4 8.53766Z"
          stroke="#F2F2F2"
          stroke-width="0.8"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M14.0016 4.93609V7.45609C14.0016 9.55609 13.1616 10.3961 11.0616 10.3961H10.4016V8.53609C10.4016 6.43609 9.56156 5.59609 7.46156 5.59609H5.60156V4.93609C5.60156 2.83609 6.44156 1.99609 8.54156 1.99609H11.0616C13.1616 1.99609 14.0016 2.83609 14.0016 4.93609Z"
          stroke="#F2F2F2"
          stroke-width="0.8"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </g>
      <defs>
        <clipPath id="clip0_3557_48848">
          <rect width="16" height="16" fill="white" />
        </clipPath>
      </defs>
    </svg>
  );
};

export default function ContentFooter() {
  const [rating, setRating] = useState<number | undefined>(undefined);
  const pathname = usePathname();

  const title = 'Изучи блокчейн разработку с blockfirst';
  const description = 'Изучи блокчейн разработку с blockfirst';
  const url = `https://blockfirst.io${pathname}`;

  return (
    <div className="border-accent flex flex-row border-b px-16 pt-21.5 pb-10">
      <Button>
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="h-5 w-5"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8.77528 3.72212C8.5312 3.47804 8.13547 3.47804 7.89139 3.72212L2.05806 9.55539C1.94085 9.6726 1.875 9.83158 1.875 9.99734C1.875 10.1631 1.94085 10.3221 2.05806 10.4393L7.89139 16.2726C8.13547 16.5167 8.5312 16.5167 8.77528 16.2726C9.01935 16.0285 9.01935 15.6328 8.77528 15.3887L4.00888 10.6223H17.5C17.8452 10.6223 18.125 10.3425 18.125 9.99734C18.125 9.65216 17.8452 9.37234 17.5 9.37234H4.00889L8.77527 4.60601C9.01935 4.36193 9.01935 3.9662 8.77528 3.72212Z"
            fill="#F2F2F2"
            className="group-hover:fill-background"
          />
        </svg>
        <span className="text-sm">Назад</span>
      </Button>

      <div className="mr-auto ml-auto flex flex-row items-center">
        <DropDownAction
          direction="top"
          button={
            <div className="group mr-7 flex cursor-pointer flex-row gap-2">
              <ShareIcon />
              <span className="group-hover:text-foreground/50 text-sm">
                Поделиться
              </span>
            </div>
          }
          options={[
            {
              label: 'Вконтакте',
              value: 'vk',
              icon: <VkIcon />,
              link: `https://vk.com/share.php?url=${url}&title=${title}&description=${description}`,
            },
            {
              label: 'Facebook',
              value: 'facebook',
              icon: <FacebookIcon />,
              link: `https://www.facebook.com/sharer/sharer.php?u=${url}`,
            },
            {
              label: 'Twitter (X)',
              value: 'twitter',
              icon: <TwitterIcon />,
              link: `https://twitter.com/intent/tweet?url=${url}&text=${title}`,
            },
            {
              label: 'Telegram',
              value: 'telegram',
              icon: <TelegramIcon />,
              link: `https://t.me/share/url?url=${url}&text=${title}`,
            },
            {
              label: 'Копировать ссылку',
              value: 'copy',
              icon: <CopyIcon />,
              closeOnClick: true,
              onClick: () => {
                navigator.clipboard.writeText(url);
              },
            },
          ]}
        />
        <Separator />

        <div
          className={cn(
            'group/rating z-1000 mx-2 flex h-8 items-center rounded-[0.3125vw] px-5',
            !!rating && 'hover:bg-secondary/10 relative cursor-pointer'
          )}
          onClick={() => {
            rating && setRating(undefined);
          }}
        >
          <button
            className="absolute top-full left-1/2 z-1000 hidden -translate-x-1/2 pt-3 group-hover/rating:block hover:hidden"
            onClick={() => {
              setRating(undefined);
            }}
          >
            <svg
              width="156"
              height="38"
              viewBox="0 0 156 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="z-100"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M79.271 0.92248C78.8573 0.384597 78.0706 0.318871 77.5733 0.780632L76.097 2.15152C73.5318 4.53346 70.1743 5.8749 66.6783 5.91905H11.3C6.80032 5.91905 4.55048 5.91905 2.97329 7.06494C2.46392 7.43502 2.01598 7.88297 1.6459 8.39233C0.5 9.96953 0.5 12.2194 0.5 16.719V27.119C0.5 31.6187 0.5 33.8686 1.6459 35.4458C2.01598 35.9551 2.46392 36.4031 2.97329 36.7731C4.55048 37.919 6.80032 37.919 11.3 37.919H144.7C149.2 37.919 151.45 37.919 153.027 36.7731C153.536 36.4031 153.984 35.9551 154.354 35.4458C155.5 33.8686 155.5 31.6187 155.5 27.119V16.719C155.5 12.2194 155.5 9.96953 154.354 8.39233C153.984 7.88297 153.536 7.43502 153.027 7.06494C151.45 5.91905 149.2 5.91905 144.7 5.91905H89.2507C85.3383 5.86723 81.6604 4.02868 79.271 0.92248Z"
                fill="#195AF4"
                fill-opacity="0.1"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M29.7272 16.5175C29.4094 16.2286 28.924 16.2286 28.6061 16.5175C28.5937 16.5288 28.5774 16.5449 28.5202 16.602L28.3156 16.8067C28.2994 17.5242 28.891 18.1158 29.6084 18.0996L29.8131 17.8949C29.8703 17.8378 29.8864 17.8215 29.8977 17.809C30.1866 17.4912 30.1866 17.0058 29.8977 16.688C29.8864 16.6755 29.8703 16.6592 29.8131 16.6021C29.7559 16.5449 29.7397 16.5288 29.7272 16.5175ZM30.1904 18.9318L30.5202 18.602L30.5286 18.5937L30.5286 18.5937C30.5735 18.5488 30.6081 18.5142 30.6377 18.4816C31.2733 17.7824 31.2733 16.7146 30.6377 16.0153C30.6081 15.9828 30.5735 15.9482 30.5286 15.9033L30.5202 15.8949L30.5118 15.8866L30.5118 15.8865C30.4669 15.8416 30.4324 15.8071 30.3998 15.7775C29.7006 15.1419 28.6328 15.1419 27.9335 15.7775C27.901 15.8071 27.8664 15.8416 27.8215 15.8866L27.8131 15.8949L27.4834 16.2247C27.4808 16.2272 27.4782 16.2298 27.4757 16.2324L25.191 18.517L25.142 18.5661C24.6698 19.0381 24.3648 19.343 24.1523 19.7183C23.9398 20.0936 23.8353 20.512 23.6735 21.1598L23.6566 21.227L23.3483 22.4606C23.3057 22.631 23.3556 22.8112 23.4798 22.9354C23.604 23.0596 23.7842 23.1095 23.9546 23.0669L25.1881 22.7585L25.2554 22.7417C25.9032 22.5799 26.3216 22.4754 26.6969 22.2629C27.0722 22.0504 27.3771 21.7454 27.8491 21.2732L27.8981 21.2241L30.1828 18.9395C30.1854 18.937 30.1879 18.9344 30.1904 18.9318ZM28.7612 18.9469C28.1709 18.7165 27.6987 18.2442 27.4683 17.654L25.8981 19.2241C25.3603 19.762 25.1599 19.9683 25.0225 20.211C24.885 20.4537 24.8113 20.7317 24.6268 21.4696L24.5205 21.8946L24.9456 21.7884C25.6835 21.6039 25.9615 21.5301 26.2042 21.3927C26.4469 21.2553 26.6532 21.0549 27.191 20.517L28.7612 18.9469ZM23.7957 15.4152L23.8333 15.4152H24.5C24.7761 15.4152 25 15.639 25 15.9152C25 16.1913 24.7761 16.4152 24.5 16.4152H23.8333C22.5621 16.4152 21.659 16.4162 20.9739 16.5083C20.3032 16.5985 19.9167 16.7676 19.6346 17.0498C19.3525 17.3319 19.1833 17.7183 19.0932 18.3891C19.0011 19.0742 19 19.9773 19 21.2485V22.5818C19 23.853 19.0011 24.7562 19.0932 25.4413C19.1833 26.112 19.3525 26.4984 19.6346 26.7806C19.9167 27.0627 20.3032 27.2318 20.9739 27.322C21.659 27.4141 22.5621 27.4152 23.8333 27.4152H25.1667C26.4379 27.4152 27.341 27.4141 28.0261 27.322C28.6968 27.2318 29.0833 27.0627 29.3654 26.7806C29.6475 26.4984 29.8167 26.112 29.9068 25.4413C29.9989 24.7562 30 23.853 30 22.5818V21.9152C30 21.639 30.2239 21.4152 30.5 21.4152C30.7761 21.4152 31 21.639 31 21.9152V22.5818V22.6195V22.6195V22.6195C31 23.8446 31 24.815 30.8979 25.5745C30.7928 26.3561 30.5714 26.9888 30.0725 27.4877C29.5736 27.9866 28.941 28.208 28.1593 28.3131C27.3999 28.4152 26.4295 28.4152 25.2043 28.4152H25.2043H25.2043H25.1667H23.8333H23.7957H23.7957H23.7957C22.5705 28.4152 21.6001 28.4152 20.8407 28.3131C20.059 28.208 19.4264 27.9866 18.9275 27.4877C18.4286 26.9888 18.2072 26.3561 18.1021 25.5745C18 24.815 18 23.8446 18 22.6194V22.5818V21.2485V21.2109C18 19.9857 18 19.0153 18.1021 18.2558C18.2072 17.4742 18.4286 16.8416 18.9275 16.3427C19.4264 15.8437 20.059 15.6223 20.8407 15.5173C21.6001 15.4151 22.5705 15.4152 23.7957 15.4152Z"
                fill="#195AF4"
              />
              <path
                d="M42.668 23.9609L46.8691 17.3867H48V25.918H46.8691V19.3379L42.668 25.918H41.543V17.3867H42.668V23.9609ZM52.2598 22.8887H51.0938V22.2207H52.1719C52.4727 22.2207 52.7109 22.1836 52.8867 22.1094C53.0625 22.0312 53.1875 21.9238 53.2617 21.7871C53.3359 21.6504 53.373 21.4902 53.373 21.3066C53.373 21.1426 53.3301 20.9883 53.2441 20.8438C53.1621 20.6953 53.0293 20.5762 52.8457 20.4863C52.6621 20.3926 52.416 20.3457 52.1074 20.3457C51.8574 20.3457 51.6309 20.3906 51.4277 20.4805C51.2246 20.5664 51.0625 20.6855 50.9414 20.8379C50.8242 20.9863 50.7656 21.1543 50.7656 21.3418H49.6816C49.6816 20.9551 49.791 20.623 50.0098 20.3457C50.2324 20.0645 50.5273 19.8477 50.8945 19.6953C51.2656 19.543 51.6699 19.4668 52.1074 19.4668C52.4746 19.4668 52.8027 19.5078 53.0918 19.5898C53.3848 19.668 53.6328 19.7852 53.8359 19.9414C54.0391 20.0938 54.1934 20.2852 54.2988 20.5156C54.4082 20.7422 54.4629 21.0059 54.4629 21.3066C54.4629 21.5215 54.4121 21.7246 54.3105 21.916C54.209 22.1074 54.0625 22.2773 53.8711 22.4258C53.6797 22.5703 53.4473 22.6836 53.1738 22.7656C52.9043 22.8477 52.5996 22.8887 52.2598 22.8887ZM51.0938 22.4785H52.2598C52.6387 22.4785 52.9727 22.5156 53.2617 22.5898C53.5508 22.6602 53.793 22.7656 53.9883 22.9062C54.1836 23.0469 54.3301 23.2207 54.4277 23.4277C54.5293 23.6309 54.5801 23.8652 54.5801 24.1309C54.5801 24.4277 54.5195 24.6953 54.3984 24.9336C54.2812 25.168 54.1133 25.3672 53.8945 25.5312C53.6758 25.6953 53.4141 25.8203 53.1094 25.9062C52.8086 25.9922 52.4746 26.0352 52.1074 26.0352C51.6973 26.0352 51.2988 25.9648 50.9121 25.8242C50.5254 25.6836 50.207 25.4668 49.957 25.1738C49.707 24.877 49.582 24.5 49.582 24.043H50.666C50.666 24.2344 50.7266 24.416 50.8477 24.5879C50.9688 24.7598 51.1367 24.8984 51.3516 25.0039C51.5703 25.1094 51.8223 25.1621 52.1074 25.1621C52.4121 25.1621 52.666 25.1152 52.8691 25.0215C53.0723 24.9277 53.2246 24.8027 53.3262 24.6465C53.4316 24.4902 53.4844 24.3203 53.4844 24.1367C53.4844 23.8984 53.4375 23.707 53.3438 23.5625C53.25 23.418 53.1055 23.3125 52.9102 23.2461C52.7188 23.1758 52.4727 23.1406 52.1719 23.1406H51.0938V22.4785ZM59.6309 24.4766L61.7871 19.5781H62.8301L60.0059 25.918H59.2559L56.4434 19.5781H57.4863L59.6309 24.4766ZM57.1699 19.5781V25.918H56.0859V19.5781H57.1699ZM62.0566 25.918V19.5781H63.1465V25.918H62.0566ZM67.5234 26.0352C67.082 26.0352 66.6816 25.9609 66.3223 25.8125C65.9668 25.6602 65.6602 25.4473 65.4023 25.1738C65.1484 24.9004 64.9531 24.5762 64.8164 24.2012C64.6797 23.8262 64.6113 23.416 64.6113 22.9707V22.7246C64.6113 22.209 64.6875 21.75 64.8398 21.3477C64.9922 20.9414 65.1992 20.5977 65.4609 20.3164C65.7227 20.0352 66.0195 19.8223 66.3516 19.6777C66.6836 19.5332 67.0273 19.4609 67.3828 19.4609C67.8359 19.4609 68.2266 19.5391 68.5547 19.6953C68.8867 19.8516 69.1582 20.0703 69.3691 20.3516C69.5801 20.6289 69.7363 20.957 69.8379 21.3359C69.9395 21.7109 69.9902 22.1211 69.9902 22.5664V23.0527H65.2559V22.168H68.9062V22.0859C68.8906 21.8047 68.832 21.5312 68.7305 21.2656C68.6328 21 68.4766 20.7812 68.2617 20.6094C68.0469 20.4375 67.7539 20.3516 67.3828 20.3516C67.1367 20.3516 66.9102 20.4043 66.7031 20.5098C66.4961 20.6113 66.3184 20.7637 66.1699 20.9668C66.0215 21.1699 65.9062 21.418 65.8242 21.7109C65.7422 22.0039 65.7012 22.3418 65.7012 22.7246V22.9707C65.7012 23.2715 65.7422 23.5547 65.8242 23.8203C65.9102 24.082 66.0332 24.3125 66.1934 24.5117C66.3574 24.7109 66.5547 24.8672 66.7852 24.9805C67.0195 25.0938 67.2852 25.1504 67.582 25.1504C67.9648 25.1504 68.2891 25.0723 68.5547 24.916C68.8203 24.7598 69.0527 24.5508 69.252 24.2891L69.9082 24.8105C69.7715 25.0176 69.5977 25.2148 69.3867 25.4023C69.1758 25.5898 68.916 25.7422 68.6074 25.8594C68.3027 25.9766 67.9414 26.0352 67.5234 26.0352ZM75.5566 22.3262V23.2051H72.2051V22.3262H75.5566ZM72.4336 19.5781V25.918H71.3496V19.5781H72.4336ZM76.4355 19.5781V25.918H75.3457V19.5781H76.4355ZM79.3535 24.2012L82.2773 19.5781H83.3672V25.918H82.2773V21.2949L79.3535 25.918H78.2754V19.5781H79.3535V24.2012ZM87.6914 19.5781V25.918H86.6016V19.5781H87.6914ZM89.8184 19.5781V20.457H84.5156V19.5781H89.8184ZM91.7754 21.7578H93.6797C94.1914 21.7578 94.623 21.8477 94.9746 22.0273C95.3262 22.2031 95.5918 22.4473 95.7715 22.7598C95.9551 23.0684 96.0469 23.4199 96.0469 23.8145C96.0469 24.1074 95.9961 24.3828 95.8945 24.6406C95.793 24.8945 95.6406 25.1172 95.4375 25.3086C95.2383 25.5 94.9902 25.6504 94.6934 25.7598C94.4004 25.8652 94.0625 25.918 93.6797 25.918H90.9844V19.5781H92.0684V25.0273H93.6797C93.9922 25.0273 94.2422 24.9707 94.4297 24.8574C94.6172 24.7441 94.752 24.5977 94.834 24.418C94.916 24.2383 94.957 24.0508 94.957 23.8555C94.957 23.6641 94.916 23.4766 94.834 23.293C94.752 23.1094 94.6172 22.957 94.4297 22.8359C94.2422 22.7109 93.9922 22.6484 93.6797 22.6484H91.7754V21.7578ZM100.09 22.8184V22.6836C100.09 22.2266 100.156 21.8027 100.289 21.4121C100.422 21.0176 100.613 20.6758 100.863 20.3867C101.113 20.0938 101.416 19.8672 101.771 19.707C102.127 19.543 102.525 19.4609 102.967 19.4609C103.412 19.4609 103.812 19.543 104.168 19.707C104.527 19.8672 104.832 20.0938 105.082 20.3867C105.336 20.6758 105.529 21.0176 105.662 21.4121C105.795 21.8027 105.861 22.2266 105.861 22.6836V22.8184C105.861 23.2754 105.795 23.6992 105.662 24.0898C105.529 24.4805 105.336 24.8223 105.082 25.1152C104.832 25.4043 104.529 25.6309 104.174 25.7949C103.822 25.9551 103.424 26.0352 102.979 26.0352C102.533 26.0352 102.133 25.9551 101.777 25.7949C101.422 25.6309 101.117 25.4043 100.863 25.1152C100.613 24.8223 100.422 24.4805 100.289 24.0898C100.156 23.6992 100.09 23.2754 100.09 22.8184ZM101.174 22.6836V22.8184C101.174 23.1348 101.211 23.4336 101.285 23.7148C101.359 23.9922 101.471 24.2383 101.619 24.4531C101.771 24.668 101.961 24.8379 102.188 24.9629C102.414 25.084 102.678 25.1445 102.979 25.1445C103.275 25.1445 103.535 25.084 103.758 24.9629C103.984 24.8379 104.172 24.668 104.32 24.4531C104.469 24.2383 104.58 23.9922 104.654 23.7148C104.732 23.4336 104.771 23.1348 104.771 22.8184V22.6836C104.771 22.3711 104.732 22.0762 104.654 21.7988C104.58 21.5176 104.467 21.2695 104.314 21.0547C104.166 20.8359 103.979 20.6641 103.752 20.5391C103.529 20.4141 103.268 20.3516 102.967 20.3516C102.67 20.3516 102.408 20.4141 102.182 20.5391C101.959 20.6641 101.771 20.8359 101.619 21.0547C101.471 21.2695 101.359 21.5176 101.285 21.7988C101.211 22.0762 101.174 22.3711 101.174 22.6836ZM107.314 25.918V19.5781H108.398V25.0273H111.316V19.5781H112.406V25.918H107.314ZM113.156 25.0273L113.051 27.7988H112.084V25.918H111.258V25.0273H113.156ZM116.965 26.0352C116.523 26.0352 116.123 25.9609 115.764 25.8125C115.408 25.6602 115.102 25.4473 114.844 25.1738C114.59 24.9004 114.395 24.5762 114.258 24.2012C114.121 23.8262 114.053 23.416 114.053 22.9707V22.7246C114.053 22.209 114.129 21.75 114.281 21.3477C114.434 20.9414 114.641 20.5977 114.902 20.3164C115.164 20.0352 115.461 19.8223 115.793 19.6777C116.125 19.5332 116.469 19.4609 116.824 19.4609C117.277 19.4609 117.668 19.5391 117.996 19.6953C118.328 19.8516 118.6 20.0703 118.811 20.3516C119.021 20.6289 119.178 20.957 119.279 21.3359C119.381 21.7109 119.432 22.1211 119.432 22.5664V23.0527H114.697V22.168H118.348V22.0859C118.332 21.8047 118.273 21.5312 118.172 21.2656C118.074 21 117.918 20.7812 117.703 20.6094C117.488 20.4375 117.195 20.3516 116.824 20.3516C116.578 20.3516 116.352 20.4043 116.145 20.5098C115.938 20.6113 115.76 20.7637 115.611 20.9668C115.463 21.1699 115.348 21.418 115.266 21.7109C115.184 22.0039 115.143 22.3418 115.143 22.7246V22.9707C115.143 23.2715 115.184 23.5547 115.266 23.8203C115.352 24.082 115.475 24.3125 115.635 24.5117C115.799 24.7109 115.996 24.8672 116.227 24.9805C116.461 25.0938 116.727 25.1504 117.023 25.1504C117.406 25.1504 117.73 25.0723 117.996 24.916C118.262 24.7598 118.494 24.5508 118.693 24.2891L119.35 24.8105C119.213 25.0176 119.039 25.2148 118.828 25.4023C118.617 25.5898 118.357 25.7422 118.049 25.8594C117.744 25.9766 117.383 26.0352 116.965 26.0352ZM124.998 22.3262V23.2051H121.646V22.3262H124.998ZM121.875 19.5781V25.918H120.791V19.5781H121.875ZM125.877 19.5781V25.918H124.787V19.5781H125.877ZM128.801 19.5781V25.918H127.717V19.5781H128.801ZM132.961 19.5781L129.955 23.2109H128.438L128.273 22.2617H129.516L131.643 19.5781H132.961ZM131.795 25.918L129.463 23.0469L130.16 22.2617L133.172 25.918H131.795ZM135.896 25.2617L137.66 19.5781H138.82L136.277 26.8965C136.219 27.0527 136.141 27.2207 136.043 27.4004C135.949 27.584 135.828 27.7578 135.68 27.9219C135.531 28.0859 135.352 28.2188 135.141 28.3203C134.934 28.4258 134.686 28.4785 134.396 28.4785C134.311 28.4785 134.201 28.4668 134.068 28.4434C133.936 28.4199 133.842 28.4004 133.787 28.3848L133.781 27.5059C133.812 27.5098 133.861 27.5137 133.928 27.5176C133.998 27.5254 134.047 27.5293 134.074 27.5293C134.32 27.5293 134.529 27.4961 134.701 27.4297C134.873 27.3672 135.018 27.2598 135.135 27.1074C135.256 26.959 135.359 26.7539 135.445 26.4922L135.896 25.2617ZM134.602 19.5781L136.248 24.5L136.529 25.6426L135.75 26.041L133.418 19.5781H134.602Z"
                fill="white"
              />
            </svg>
          </button>

          {rating ? (
            <button className="relative flex cursor-pointer flex-row items-center justify-center gap-2">
              <StarIconFilled className="" />

              <span className='text-sm leading-5'>{rating.toFixed(2)}</span>
            </button>
          ) : (
            <>
              {Array.from({ length: 5 }).map((_, index) => (
                <button
                  className="group cursor-pointer"
                  key={index}
                  onClick={() => {
                    setRating(index + 1);
                  }}
                >
                  <StarIcon className="block not-first:ml-[-0.0521vw] group-hover:hidden group-has-[~button:hover]:hidden" />
                  <StarIconFilled className="hidden group-hover:block group-has-[~button:hover]:block" />
                </button>
              ))}
            </>
          )}
        </div>

        <Separator />

        <div className="ml-7 flex flex-row items-center justify-center gap-3">
          <div className="bg-secondary/10 group flex h-8 w-8 cursor-pointer items-center justify-center rounded-[0.3021vw] text-sm">
            <Image
              src={BrokenHeart}
              className="h-4 w-4 group-hover:hidden"
              alt="broken heart"
            />
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="hidden h-5 w-5 group-hover:block"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M3.53906 10C3.53906 9.65482 3.81888 9.375 4.16406 9.375H9.9974H15.8307C16.1759 9.375 16.4557 9.65482 16.4557 10C16.4557 10.3452 16.1759 10.625 15.8307 10.625H9.9974H4.16406C3.81888 10.625 3.53906 10.3452 3.53906 10Z"
                fill="#F2F2F2"
              />
            </svg>
          </div>
          <span className="text-sm">123</span>
          <div className="bg-secondary/10 group flex h-8 w-8 cursor-pointer items-center justify-center rounded-[0.3021vw] text-sm">
            <Image
              src={FireAction}
              className="h-4 w-4 group-hover:hidden"
              alt="fire"
            />
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="hidden h-5 w-5 group-hover:block"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.9974 3.41406C10.4116 3.41406 10.7474 3.74985 10.7474 4.16406V9.2474H15.8307C16.2449 9.2474 16.5807 9.58318 16.5807 9.9974C16.5807 10.4116 16.2449 10.7474 15.8307 10.7474H10.7474V15.8307C10.7474 16.2449 10.4116 16.5807 9.9974 16.5807C9.58318 16.5807 9.2474 16.2449 9.2474 15.8307V10.7474H4.16406C3.74985 10.7474 3.41406 10.4116 3.41406 9.9974C3.41406 9.58318 3.74985 9.2474 4.16406 9.2474H9.2474V4.16406C9.2474 3.74985 9.58318 3.41406 9.9974 3.41406Z"
                fill="#F2F2F2"
              />
            </svg>
          </div>
        </div>
      </div>

      <Button>
        <span className="text-sm">Вперед</span>

        <svg
          width="21"
          height="20"
          viewBox="0 0 21 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="h-5 w-5"
        >
          <path
            d="M14.2305 4.43162C14.5292 4.14484 15.0042 4.15441 15.291 4.45311L19.9062 9.2617C20.1848 9.55191 20.1848 10.0106 19.9062 10.3008L15.291 15.1094C15.0042 15.4082 14.5293 15.4177 14.2305 15.1308C13.9319 14.844 13.9222 14.369 14.209 14.0703L18.3262 9.78123L14.209 5.49217C13.9222 5.19338 13.9317 4.71846 14.2305 4.43162Z"
            fill="#F2F2F2"
            className="group-hover:fill-background"
          />
        </svg>
      </Button>
    </div>
  );
}
